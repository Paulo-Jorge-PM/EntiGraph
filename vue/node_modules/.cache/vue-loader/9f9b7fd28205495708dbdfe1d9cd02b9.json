{"remainingRequest":"/home/paulo/Repos/mei/EntiGraph/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paulo/Repos/mei/EntiGraph/vue/src/components/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/paulo/Repos/mei/EntiGraph/vue/src/components/Search.vue","mtime":1636423736574},{"path":"/home/paulo/Repos/mei/EntiGraph/vue/node_modules/cache-loader/dist/cjs.js","mtime":1615487375942},{"path":"/home/paulo/Repos/mei/EntiGraph/vue/node_modules/babel-loader/lib/index.js","mtime":1615487375922},{"path":"/home/paulo/Repos/mei/EntiGraph/vue/node_modules/vuetify-loader/lib/loader.js","mtime":1615487376506},{"path":"/home/paulo/Repos/mei/EntiGraph/vue/node_modules/cache-loader/dist/cjs.js","mtime":1615487375942},{"path":"/home/paulo/Repos/mei/EntiGraph/vue/node_modules/vue-loader/lib/index.js","mtime":1615487376486}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCi8vbGV0IHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTsKCi8vY29uc3QgbGhvc3QgPSByZXF1aXJlKCJAL2NvbmZpZy9nbG9iYWwiKS5saG9zdDsKLy9jb25zdCBncmFwaGRiID0gcmVxdWlyZSgiQC9jb25maWcvZ2xvYmFsIikuZ3JhcGhkYjsKLy9jb25zdCBmbGFza1NwYXJxbCA9IHJlcXVpcmUoIkAvY29uZmlnL2dsb2JhbCIpLmZsYXNrU3BhcnFsICsgJz9vdXRwdXQ9anNvbiZleHRlcm5hbD10cnVlJzsKLy9jb25zdCBmbGFza0Rvd25sb2FkID0gcmVxdWlyZSgiQC9jb25maWcvZ2xvYmFsIikuZmxhc2tEb3dubG9hZCArICc/b3V0cHV0PWNzdic7Cgpjb25zdCBuZXRsYW5nX2dyYXBoZGIgPSByZXF1aXJlKCJAL2NvbmZpZy9nbG9iYWwiKS5uZXRsYW5nX2dyYXBoZGIKCiAgZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1NlYXJjaCcsCgogIC8qZGV2U2VydmVyOiB7CiAgICAgICAgcHJveHk6ICdodHRwOi8vMTI3LjAuMC4xOjgwODAvJywKICAgIH0sKi8KCiAgLypydWxlczogewogICAgJ25vLXVudXNlZC12YXJzJzogJ29mZicKICB9LCovCgogICAgZGF0YTogKCkgPT4gKHsKCiAgICBzZWFyY2g6ICcnLAogICAgICAKICAgIGhkYWRvczogWwogICAgICAvKnsKICAgICAgICB0ZXh0OiAnVMOtdHVsbycsCiAgICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAncm93JywKICAgICAgfSwKICAgICAgeyB0ZXh0OiAnRGF0YScsIHZhbHVlOiAncm93JyB9LAogICAgICB7IHRleHQ6ICdUZXh0bycsIHZhbHVlOiAncm93JyB9LCovCiAgICAgIHsgdGV4dDogJ0RhdGEnLCBzb3J0YWJsZTogdHJ1ZSwgdmFsdWU6ICdkYXRhUHViJyB9LAogICAgICAvL3sgdGV4dDogJ01pbm9yaWEnLCBzb3J0YWJsZTogdHJ1ZSwgdmFsdWU6ICdtaW5vcml0eScgfSwKICAgICAgeyB0ZXh0OiAnVMOtdHVsbycsIHZhbHVlOiAndGl0bGUnIH0sCiAgICAgIHsgdGV4dDogJ0lEJywgdmFsdWU6ICdhcnRpY2xlJyB9LAogICAgICB7IHRleHQ6ICdPcmlnaW5hbCcsIHZhbHVlOiAnbGluaycgfSwKICAgICAgLy97IHRleHQ6ICdUZXh0bycsIHZhbHVlOiAndGV4dCcgfSwKICAgIF0sCgogICAgY2xhc3NlczogWwogICAgICB7J3RleHQnOiAnTWlub3JpYXMnLCAnaWQnOiAnbWlub3JpdHknLCAnc3ViY2xhc3Nlcyc6IFsnTWlub3JpdHknLCdtaW5vcml0eSddfSwKICAgICAgeyd0ZXh0JzogJ1Blc3NvYXMnLCAnaWQnOiAncGVyc29uTmFtZScsICdzdWJjbGFzc2VzJzogWydQZXJzb24nLCAncGVyc29uTmFtZSddfSwKICAgICAgeyd0ZXh0JzogJ1BhbGF2cmFzLWNoYXZlJywgJ2lkJzogJ2tleXdvcmQnLCAnc3ViY2xhc3Nlcyc6IFsnS2V5d29yZCcsJ2tleXdvcmQnXX0sCiAgICAgIHsndGV4dCc6ICdQYXJ0aWRvcycsICdpZCc6ICdwb2xpdGljYWxQYXJ0eScsICdzdWJjbGFzc2VzJzogWydQb2xpdGljYWxQYXJ0eScsICdwb2xpdGljYWxQYXJ0eSddfSwKICAgICAgeyd0ZXh0JzogJ0FuaW1haXMnLCAnaWQnOiAnYW5pbWFsJywgJ3N1YmNsYXNzZXMnOiBbJ0FuaW1hbCcsICdhbmltYWwnXX0sCiAgICAgIHsndGV4dCc6ICdFdG5pYXMnLCAnaWQnOiAnZXRobmljaXR5JywgJ3N1YmNsYXNzZXMnOiBbJ0V0aG5pY2l0eScsICdldGhuaWNpdHknXX0sCiAgICAgIHsndGV4dCc6ICdSZWxpZ2nDtWVzJywgJ2lkJzogJ3JlbGlnaW9uJywgJ3N1YmNsYXNzZXMnOiBbJ1JlbGlnaW9uJywgJ3JlbGlnaW9uJ119LAogICAgICB7J3RleHQnOiAnQ2lkYWRlcycsICdpZCc6ICdjaXR5JywgJ3N1YmNsYXNzZXMnOiBbJ0NpdHknLCAnY2l0eSddfSwKICAgICAgeyd0ZXh0JzogJ1Bhw61zZXMnLCAnaWQnOiAnY291bnRyeScsICdzdWJjbGFzc2VzJzogWydDb3VudHJ5JywgJ2NvdW50cnknXX0sCiAgICAgIHsndGV4dCc6ICdDb250aW5lbnRlcycsICdpZCc6ICdjb250aW5lbnQnLCAnc3ViY2xhc3Nlcyc6IFsnQ29udGluZW50JywgJ2NvbnRpbmVudCddfSwKICAgICAgeyd0ZXh0JzogJ091dHJvcyBMdWdhcmVzJywgJ2lkJzogJ290aGVyUGxhY2UnLCAnc3ViY2xhc3Nlcyc6IFsnT3RoZXJQbGFjZScsICdvdGhlclBsYWNlJ119LAogICAgICB7J3RleHQnOiAnRGlhcyBkYSBTZW1hbmEnLCAnaWQnOiAnd2Vla2RheScsICdzdWJjbGFzc2VzJzogWydXZWVrZGF5JywgJ3dlZWtkYXknXX0sCiAgICAgIHsndGV4dCc6ICdNZXNlcycsICdpZCc6ICdtb250aCcsICdzdWJjbGFzc2VzJzogWydNb250aCcsICdtb250aCddfSwKICAgICAgeyd0ZXh0JzogJ0VudGlkYWRlcycsICdpZCc6ICdlbnRpdHknLCAnc3ViY2xhc3Nlcyc6IFsnRW50aXR5JywgJ2VudGl0eSddfSwKICAgICAgeyd0ZXh0JzogJ0NsdWJlcyBkZSBGdXRlYm9sJywgJ2lkJzogJ2Zvb3RiYWwnLCAnc3ViY2xhc3Nlcyc6IFsnRm9vdGJhbGwnLCAnZm9vdGJhbCddfSwKICAgICAgeyd0ZXh0JzogJ0Rlc3BvcnRvcycsICdpZCc6ICdzcG9ydCcsICdzdWJjbGFzc2VzJzogWydTcG9ydCcsICdzcG9ydCddfSwKICAgICAgeyd0ZXh0JzogJ1RhZ3MgZG8gSm9ybmFsJywgJ2lkJzogJ3RhZycsICdzdWJjbGFzc2VzJzogWydUYWcnLCd0YWcnXX0sCiAgICAgIHsndGV4dCc6ICdNYXJjYXMgZGUgUHJvZHV0b3MnLCAnaWQnOiAnYnJhbmQnLCAnc3ViY2xhc3Nlcyc6IFsnQnJhbmQnLCdicmFuZCddfSwgCiAgICAgIHsndGV4dCc6ICdDYW5haXMgZGUgVFYnLCAnaWQnOiAndHZDaGFubmVsJywgJ3N1YmNsYXNzZXMnOiBbJ1R2Q2hhbm5lbCcsJ3R2Q2hhbm5lbCddfSwKICAgICAgeyd0ZXh0JzogJ01hcmNhcyBkZSBDYXJyb3MnLCAnaWQnOiAnY2FyQnJhbmQnLCAnc3ViY2xhc3Nlcyc6IFsnQ2FyQnJhbmQnLCdjYXJCcmFuZCddfSwgCiAgICAgIHsndGV4dCc6ICdEZXNwb3J0b3MnLCAnaWQnOiAnc3BvcnQnLCAnc3ViY2xhc3Nlcyc6IFsnU3BvcnQnLCdzcG9ydCddfSwKCiAgICBdLAoKICAgIGZpbHRlcnM6IFsKICAgICAgeyd0ZXh0JzogJ0FubyBkZSBwdWJsaWNhw6fDo28gbWFpb3IgZG8gcXVlLi4uJywgJ3ZhbHVlJzogJ2RhdGFNYWlvcid9LAogICAgICB7J3RleHQnOiAnQW5vIGRlIHB1YmxpY2HDp8OjbyBtZW5vciBkbyBxdWUuLi4nLCAndmFsdWUnOiAnZGF0YU1lbm9yJ30sCiAgICAgIHsndGV4dCc6ICdBbm8gZGUgcHVibGljYcOnw6NvIG1haW9yIGEuLi4nLCAndmFsdWUnOiAnZGF0YUlndWFsJ30sCiAgICAgIHsndGV4dCc6ICdNaW5vcmlhIGlndWFsIGEuLi4nLCAndmFsdWUnOiAnbWlub3JpYUlndWFsJ30sCiAgICAgIHsndGV4dCc6ICdDb250w6ltIHBhbGF2cmEgaWd1YWwgYS4uLicsICd2YWx1ZSc6ICdrZXl3b3JkSWd1YWwnfSwKICAgIF0sCgogICAgYWN0aXZlQ2xhc3NlOiBudWxsLAoKICAgIHN1YmNsYXNzZXM6IG51bGwsCgogICAgYWN0aXZlU3ViY2xhc3NlczogbnVsbCwKCiAgICBzdWJjbGFzc2VzMzogbnVsbCwKCiAgICB0YWJsZTogbnVsbCwKCiAgICB0YWJsZUNvdW50OiBudWxsLAoKICAgIGxvYWRpbmc6IGZhbHNlLAoKICAgIGZpbHRlcjogbnVsbCwKCiAgICBpbnB1dEZpbHRlcjogbnVsbCwKCiAgICBsaW1pdDogJzUwMDAnLAoKICAgIHF1ZXJ5OiBudWxsLAoKICAgIGRiOiAnbmV0bGFuZzInLAoKICAgIGFydGljbGVQYWdlOiAnaHR0cDovL21pbm9ycy5pbGNoLnVtaW5oby5wdC9hcnRpY2xlcycsCgoKICAgIH0pLAoKICAgIGNvbXB1dGVkOiB7CiAgICAgIHN1YmNsYXNzZXNGaWx0ZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5zdWJjbGFzc2VzLmZpbHRlcihjbGFzc2UgPT4gIVsnMzExJywgJzExMicsICcxOTgwcycsICcxOTgxJywgJzcwMicsICc5OSddLmluY2x1ZGVzKGNsYXNzZS5yb3cpKQogICAgICB9LAoKICAgICAgbWV0YWRhZG9zOiBmdW5jdGlvbigpIHsgICAgICAKICAgICAgICBsZXQgbGluayA9ICcnOwogICAgICAgIGlmKHRoaXMuZGI9PSdpbmRpZmVyZW5jaWFkbycpIHsKICAgICAgICAgICAgbGluayA9IHRoaXMuYXJ0aWNsZVBhZ2UrJz9kYj1pbmRpZmVyZW5jaWFkbyZpZD0nOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbGluayA9IHRoaXMuYXJ0aWNsZVBhZ2UrJz9pZD0nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGluazsKICAgICAgfQogICAgfSwKCiAgbW91bnRlZCAoKSB7CiAgLy8gIGFsZXJ0KHRoaXMuc2VsZWN0ZWRfY2xhc3NlKQogIC8vICB0aGlzLnNlbGVjdGVkX2NsYXNzZSA9IHRoaXMuY2xhc3Nlc1swXS50ZXh0OwogIH0sCgogIGNyZWF0ZWQ6IGFzeW5jIGZ1bmN0aW9uKCl7CiAgICB0cnkgewogICAgICAvL2xldCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChsaG9zdCArICIvYXBpL3Bhc3NhZGVpcmFzIik7CiAgICAgIC8vdGhpcy5jcm9zc3dhbGtzID0gcmVzcG9uc2UuZGF0YQoKICAgIH0gCiAgICBjYXRjaCAoZSkgewogICAgICByZXR1cm4gZTsKICAgIH0KICAgIC8vdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMudXBkYXRlRGF0YSwgMTAwMCkKICB9LAoKICBtZXRob2RzOiB7CgogICAgY2xhc3NlT3B0aW9uKGV2ZW50KSB7CiAgICAgIGxldCBpZCA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgbGV0IHJvdyA9IHRoaXMuZmluZE9iamVjdCh0aGlzLmNsYXNzZXMsICJpZCIsIGlkKTsKICAgICAgdGhpcy5hY3RpdmVDbGFzc2UgPSByb3c7CiAgICAgIGxldCBxdWVyeSA9IGAKUFJFRklYIDogPGh0dHA6Ly9zcGFycWwuZW50aWdyYXBoLmRpLnB0L2NvcnB1cyM+ClNFTEVDVCBESVNUSU5DVCA/cm93IFdIRVJFIHsKICA/YXJ0aWNsZSBhIDpgICsgcm93LnN1YmNsYXNzZXNbMF0gKyBgIC4KICA/YXJ0aWNsZSA6YCArIHJvdy5zdWJjbGFzc2VzWzFdICsgYCA/cm93IC4KfQpPUkRFUiBCWSA/cm93CiAgICAgIGA7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnN1YmNsYXNzZXMgPSBudWxsOwogICAgICB0aGlzLmFjdGl2ZVN1YmNsYXNzZXMgPSBudWxsOwogICAgICB0aGlzLmZpbHRlciA9IG51bGw7CiAgICAgIHRoaXMuaW5wdXRGaWx0ZXIgPSBudWxsOwogICAgICB0aGlzLnF1ZXJ5Q2xhc3NlKHF1ZXJ5LCByb3cpOwogICAgICB0aGlzLnRhYmxlUXVlcnkocm93LnN1YmNsYXNzZXNbMF0sIHJvdy5zdWJjbGFzc2VzWzFdLCAnJywgJycpOwogICAgICAvL3RoaXMucXVlcnlDbGFzc2UocXVlcnksIHJvdykKCiAgICAgIC8vdGhpcy5uZXdTdWJDbGFzc2UocXVlcnksIHJvdyk7CgogICAgICAvL3RoaXMudGVzdGUocm93KTsKICAgIH0sCgogICAgc3ViY2xhc3NPcHRpb24oZXZlbnQpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5hY3RpdmVTdWJjbGFzc2VzID0gbnVsbDsKICAgICAgdGhpcy5maWx0ZXIgPSBudWxsOwogICAgICB0aGlzLmlucHV0RmlsdGVyID0gbnVsbDsKICAgICAgdGhpcy5hY3RpdmVTdWJjbGFzc2VzID0gZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgICB0aGlzLnRhYmxlUXVlcnkodGhpcy5hY3RpdmVDbGFzc2Uuc3ViY2xhc3Nlc1swXSwgdGhpcy5hY3RpdmVDbGFzc2Uuc3ViY2xhc3Nlc1sxXSwgdGhpcy5hY3RpdmVTdWJjbGFzc2VzLCAnJyk7CiAgICB9LAoKICAgIGZpbHRyb09wdGlvbihldmVudCkgewogICAgICB0aGlzLmZpbHRlciA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgdGhpcy5pbnB1dEZpbHRlciA9IG51bGw7CiAgICB9LAoKICAgIGlucHV0T3B0aW9uKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBsZXQgZmlsdGVyID0gJyc7CiAgICAgIGlmKHRoaXMuZmlsdGVyID09ICdkYXRhTWFpb3InKSB7CiAgICAgICAgZmlsdGVyID0gYAogICAgICAgIEZJTFRFUihZRUFSKD9kYXRhUHViKSA+PSBgICsgdGhpcy5pbnB1dEZpbHRlciArIGApIC5gCiAgICAgIH0KICAgICAgZWxzZSBpZih0aGlzLmZpbHRlciA9PSAnZGF0YU1lbm9yJykgewogICAgICAgIGZpbHRlciA9IGAKICAgICAgICBGSUxURVIoWUVBUig/ZGF0YVB1YikgPD0gYCArIHRoaXMuaW5wdXRGaWx0ZXIgKyBgKSAuYAogICAgICB9CiAgICAgIGVsc2UgaWYodGhpcy5maWx0ZXIgPT0gJ2RhdGFJZ3VhbCcpIHsKICAgICAgICBmaWx0ZXIgPSBgCiAgICAgICAgRklMVEVSKFlFQVIoP2RhdGFQdWIpID0gYCArIHRoaXMuaW5wdXRGaWx0ZXIgKyBgKSAuYAogICAgICB9CiAgICAgIGVsc2UgaWYodGhpcy5maWx0ZXIgPT0gJ21pbm9yaWFJZ3VhbCcpIHsKICAgICAgICBmaWx0ZXIgPSBgCiAgICAgICAgP2FydGljbGUgOnJlZmVyZXNNaW5vcml0eSA/TWlub3JpdHkgLgogICAgICAgID9NaW5vcml0eSA6bWlub3JpdHkgP21pbm9yaXR5IC4KICAgICAgICBGSUxURVIgKENPTlRBSU5TKD9taW5vcml0eSAsICJgICsgdGhpcy5pbnB1dEZpbHRlci50b0xvd2VyQ2FzZSgpICsgYCIpKSAuYAogICAgICB9CiAgICAgIGVsc2UgaWYodGhpcy5maWx0ZXIgPT0gJ2tleXdvcmRJZ3VhbCcpIHsKICAgICAgICBmaWx0ZXIgPSBgCiAgICAgICAgRklMVEVSIChDT05UQUlOUyg/dGV4dCAsICJgICsgdGhpcy5pbnB1dEZpbHRlci50b0xvd2VyQ2FzZSgpICsgYCIpKSAuYAogICAgICB9CiAgICAgIAogICAgICBpZiAoZmlsdGVyIT0nJykgewogICAgICAgIHRoaXMudGFibGVRdWVyeSh0aGlzLmFjdGl2ZUNsYXNzZS5zdWJjbGFzc2VzWzBdLCB0aGlzLmFjdGl2ZUNsYXNzZS5zdWJjbGFzc2VzWzFdLCB0aGlzLmFjdGl2ZVN1YmNsYXNzZXMsIGZpbHRlcik7CiAgICAgIH0KICAgICAgLy9hbGVydCh0aGlzLmZpbHRlcikKICAgICAgLy9hbGVydCh0aGlzLmlucHV0RmlsdGVyKQogICAgfSwKCiAgICBxdWVyeUNsYXNzZShzcGFycWwsIHJvdykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgLypheGlvcy5wb3N0KGZsYXNrU3BhcnFsLCB7CiAgICAgICAgICAgICAgICAgICAgcXVlcnk6ICd0aGlzLnNwYXJxbCcsCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICd1dXV1JwogICAgICAgICAgICAgICAgfSkqLwogICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICB1cmw6IG5ldGxhbmdfZ3JhcGhkYiwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICJBY2NlcHQiOiJ0ZXh0L2NzdiIsIAogICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiCiAgICAgICAgICAgICAgLy8iQ29udGVudC1MZW5ndGgiOiBzcGFycWwubGVuZ3RoCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IHtxdWVyeTogc3BhcnFsfQogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLm5ld1N1YkNsYXNzZShkYXRhLCByb3cpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgfSkKICAgIH0sCgogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICBuZXdTdWJDbGFzc2UoZGF0YSwgcm93KSB7CgogICAgICAvL2xldCBzdWJjbGFzc2VzID0gdGhpcy5maW5kT2JqZWN0KHRoaXMuY2xhc3NlcywgImlkIiwgaWQpOwogICAgICAvKmxldCBmb3JtID0gYAogICAgICAgICAgPHNlbGVjdCBuYW1lPSJzdWJjbGFzc2VzIiBpZD0ic3ViY2xhc3NlcyI+CiAgICAgICAgICAgIDxvcHRpb24gZGlzYWJsZWQgc2VsZWN0ZWQgY2xhc3M9ImRpc2FibGVkLW9wdGlvbiI+RmlsdHJhciBgICsgcm93LnRleHQgKyBgIHF1ZSBtZW5jaW9uZW0uLi48L29wdGlvbj4KICAgICAgICAgICAgYAogICAgICBmb3JtID0gZm9ybSArIGAKICAgICAgICAgIDwvc2VsZWN0PgogICAgICBgKi8KCiAgICAgIGxldCBjbGVhbmVkID0gdGhpcy5teU5vcm1hbGl6ZShKU09OLnBhcnNlKGRhdGEpKQoKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLm15Tm9ybWFsaXplKGRhdGEpKQoKICAgICAgdGhpcy5zdWJjbGFzc2VzID0gY2xlYW5lZDsKICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoIikuYXBwZW5kQ2hpbGQoZm9ybSk7IAogICAgICAvL2FsZXJ0KHN1YmNsYXNzZXMuc3ViY2xhc3Nlc1sxXSk7CgoKICAgIH0sCgogIGZpbmRPYmplY3Qob2JqLCBrZXksIHZhbHVlKSB7CiAgICByZXR1cm4gb2JqLmZpbmQoZnVuY3Rpb24odil7IHJldHVybiB2W2tleV0gPT09IHZhbHVlfSk7CiAgfSwKCiAgbXlOb3JtYWxpemUocikgewogICAgcmV0dXJuIHIucmVzdWx0cy5iaW5kaW5ncy5tYXAobyA9PiB7CiAgICAgICAgdmFyIG5vdm8gPSB7fQogICAgICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhvKSkgewogICAgICAgICAgICAgICAgbm92b1trXSA9IHYudmFsdWUKICAgICAgICAgIH0KICAgICAgICAgIC8vbm92by5zb3J0KChhLCBiKSA9PiAoYS5yb3cgPiBiLnJvdykgPyAxIDogLTEpCiAgICAgICAgcmV0dXJuIG5vdm8KICAgIH0pCiAgfSwKCiAgbm9ybWFsaXplQXJyYXkocikgewogICAgcmV0dXJuIHIucmVzdWx0cy5iaW5kaW5ncy5tYXAobyA9PiB7CiAgICAgICAgdmFyIG5vdm8gPSBbXQogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhvKSkgewogICAgICAgICAgICBub3ZvLnB1c2godi52YWx1ZSkKICAgICAgICAgIH0KICAgICAgICByZXR1cm4gbm92byAgCiAgICB9KQogIH0sCgoKICB0YWJsZVF1ZXJ5KGNsYXNzZTEsIGNsYXNzZTIsIHN1YmNsYXNzLCBmaWx0ZXIpIHsKICAgIHRoaXMudGFibGVDb3VudGVyKGNsYXNzZTEsIGNsYXNzZTIsIHN1YmNsYXNzLCBmaWx0ZXIpOwoKICAgIGxldCBzcGFycWwgPSBgClBSRUZJWCA6IDxodHRwOi8vc3BhcnFsLmVudGlncmFwaC5kaS5wdC9jb3JwdXMjPgpTRUxFQ1QgRElTVElOQ1QgP3RleHQgKFNBTVBMRSg/YXJ0aWNsZSkgQVMgP2FydGljbGUpIChTQU1QTEUoP3RpbWVzdGFtcCkgQVMgP3RpbWVzdGFtcCkgKFNBTVBMRSg/c291cmNlVXJsKSBBUyA/c291cmNlVXJsKSBXSEVSRSB7CiAgP2FydGljbGUgYSA6QXJ0aWNsZSAuCiAgP2FydGljbGUgOnRpbWVzdGFtcCA/dGltZXN0YW1wIC4KICA/YXJ0aWNsZSA6dGV4dCA/dGV4dCAuCiAgP2FydGljbGUgOnNvdXJjZVVybCA/c291cmNlVXJsIC4KICBgCiAgaWYoc3ViY2xhc3MhPScnKSB7CiAgICBzcGFycWwgPSBzcGFycWwgKyBgCiAgICA/YXJ0aWNsZSA6cmVmZXJlc2ArY2xhc3NlMStgID9zdWJjbGFzcyAuCiAgICA/c3ViY2xhc3MgOmArY2xhc3NlMitgICJgK3N1YmNsYXNzK2AiIC5gCiAgfQogIGVsc2UgewogICAgc3BhcnFsID0gc3BhcnFsICsgYAogICAgP2FydGljbGUgOnJlZmVyZXNgK2NsYXNzZTErYCA/Y2xhc3NlIC5gCiAgfQogIGlmKGZpbHRlciE9JycpIHsKICAgIHNwYXJxbCA9IHNwYXJxbCArIGZpbHRlcgogIH0KCiAgIHNwYXJxbCA9IHNwYXJxbCArIGAKfQpHUk9VUCBCWSA/dGV4dApMSU1JVCBgICsgdGhpcy5saW1pdCArIGAKICAgIGAKCiAgICAvL3RoaXMucXVlcnkgPSBlbmNvZGVVUklDb21wb25lbnQoc3BhcnFsKTsKICAgIHRoaXMucXVlcnkgPSBzcGFycWw7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zKHsKICAgIG1ldGhvZDogJ1BPU1QnLAogICAgdXJsOiBuZXRsYW5nX2dyYXBoZGIsCiAgICBoZWFkZXJzOiB7CiAgICAgICJBY2NlcHQiOiJ0ZXh0L2NzdiIsIAogICAgICAiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIgogICAgICAvLydDb250ZW50LUxlbmd0aCc6IHNwYXJxbC5sZW5ndGgKICAgIH0sICAKICAgIC8vZGF0YTogcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHtxdWVyeTogc3BhcnFsfSkKICAgIGRhdGE6IHtxdWVyeTogc3BhcnFsfQogICAgfSkKICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy5zZXRUYWJsZShkYXRhKTsKICAgIH0pCiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICB9KQoKICB9LAoKdGFibGVDb3VudGVyKGNsYXNzZTEsIGNsYXNzZTIsIHN1YmNsYXNzLCBmaWx0ZXIpIHsKICAgICAgbGV0IHNwYXJxbCA9IGAKUFJFRklYIDogPGh0dHA6Ly9zcGFycWwuZW50aWdyYXBoLmRpLnB0L2NvcnB1cyM+ClNFTEVDVCAoQ09VTlQoRElTVElOQ1QgP3RleHQpIGFzID9jb3VudCkgV0hFUkUgewogID9hcnRpY2xlIGEgOkFydGljbGUgLgogID9hcnRpY2xlIDp0aW1lc3RhbXAgP3RpbWVzdGFtcCAuCiAgP2FydGljbGUgOnRleHQgP3RleHQgLgogID9hcnRpY2xlIDpzb3VyY2VVcmwgP3NvdXJjZVVybCAuCiAgIz9hcnRpY2xlIDp0ZXh0ID90ZXh0IC4KICBgCiAgaWYoc3ViY2xhc3MhPScnKSB7CiAgICBzcGFycWwgPSBzcGFycWwgKyBgCiAgICA/YXJ0aWNsZSA6cmVmZXJlc2ArY2xhc3NlMStgID9zdWJjbGFzcyAuCiAgICA/c3ViY2xhc3MgOmArY2xhc3NlMitgICJgK3N1YmNsYXNzK2AiIC5gCiAgfQogIGVsc2UgewogICAgc3BhcnFsID0gc3BhcnFsICsgYAogICAgP2FydGljbGUgOnJlZmVyZXNgK2NsYXNzZTErYCA/Y2xhc3NlIC5gCiAgfQogIGlmKGZpbHRlciE9JycpIHsKICAgIHNwYXJxbCA9IHNwYXJxbCArIGZpbHRlcgogIH0KCiAgIHNwYXJxbCA9IHNwYXJxbCArIGAKfQojR1JPVVAgQlkgP3RleHQKICAgIGAKICAgIAogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBheGlvcyh7CiAgICBtZXRob2Q6ICdQT1NUJywKICAgIHVybDogbmV0bGFuZ19ncmFwaGRiLAogICAgaGVhZGVyczogewogICAgICAiQWNjZXB0IjoidGV4dC9jc3YiLCAKICAgICAgIkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIKICAgICAgLy8nQ29udGVudC1MZW5ndGgnOiBzcGFycWwubGVuZ3RoCiAgICB9LCAKICAgIGRhdGE6IHtxdWVyeTogc3BhcnFsfQogICAgfSkKICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy5zZXRDb3VudFRhYmxlKGRhdGEpOwogICAgfSkKICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgIH0pCn0sCgogIHNldFRhYmxlKGRhdGEpIHsKICAgIHRoaXMudGFibGUgPSB0aGlzLm15Tm9ybWFsaXplKEpTT04ucGFyc2UoZGF0YSkpOwogICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgfSwKCiAgc2V0Q291bnRUYWJsZShkYXRhKSB7CiAgICB0aGlzLnRhYmxlQ291bnQgPSBKU09OLnBhcnNlKGRhdGEpLnJlc3VsdHMuYmluZGluZ3NbMF0uY291bnQudmFsdWU7CiAgfSwKCiAgZG93bmxvYWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgYXhpb3MoewogICAgbWV0aG9kOiAnUE9TVCcsCiAgICB1cmw6IG5ldGxhbmdfZ3JhcGhkYiwKICAgIGhlYWRlcnM6IHsKICAgICAgIkFjY2VwdCI6InRleHQvY3N2IiwgCiAgICAgICJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiCiAgICAgIC8vJ0NvbnRlbnQtTGVuZ3RoJzogdGhpcy5xdWVyeS5sZW5ndGgKICAgIH0sIAogICAgZGF0YToge3F1ZXJ5OiB0aGlzLnF1ZXJ5fQogICAgfSkKICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIC8vX3RoaXMuc2V0Q291bnRUYWJsZShkYXRhKTsKICAgICAgICAvL3Jlc3BvbnNlLmRhdGEucGlwZShmcy5jcmVhdGVXcml0ZVN0cmVhbSgidG9kYXlzX3BpY3R1cmUuY3N2IikpOwogICAgICAgIF90aGlzLmZvcmNlRmlsZURvd25sb2FkKHJlc3BvbnNlKTsKICAgIH0pCiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICB9KQoKICB9LAoKICAgIGZvcmNlRmlsZURvd25sb2FkKHJlc3BvbnNlKXsKICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdKSkKICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKQogICAgICBsaW5rLmhyZWYgPSB1cmwKICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ2RhdGEuY3N2JykgLy9vciBhbnkgb3RoZXIgZXh0ZW5zaW9uCiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluaykKICAgICAgbGluay5jbGljaygpCiAgICB9LAoKCn0KfQo="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"Search.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"text-center\">\n      <v-col class=\"mb-4\">\n        <h1 class=\"display-2 font-weight-bold mb-3\">\n          Pesquisar \n        </h1>\n\n      <v-layout row wrap justify-center>\n          <v-switch align-center\n            v-model=\"db\"\n            :label=\"`Corpus: ${db.toString()}`\"\n            false-value=\"indiferenciado\"\n            true-value=\"minorias\"\n          ></v-switch>\n      </v-layout>\n\n      <div id=\"search\" class=\"search\">\n\n<div id=\"loading-icon-search\" v-if=\"loading\">\n<v-progress-circular :indeterminate=\"loading\" :value=\"0\" size=\"24\" class=\"ml-2\"></v-progress-circular>\n</div>\n\n\n\n    <br><br>\n\n                <select name=\"classes\" id=\"classes\" @input=\"classeOption($event)\">\n                  <option disabled selected class=\"disabled-option\">Procurar artigos que mencionem...</option>\n                  <option v-for=\"(classe, index) in classes\" :key=\"index\" :value=\"classe.id\">{{classe.text}}</option>\n                </select>\n\n                <span v-if=\"subclasses\">\n                <br>\n                <select name=\"subclasses\" id=\"subclasses\" @input=\"subclassOption($event)\">\n                  <option disabled selected class=\"disabled-option\">Filtrar {{activeClasse.text}} que mencionem...</option>\n                  <option v-for=\"(classe, index) in subclassesFilter\" :key=\"index\" :value=\"classe.row\">{{classe.row.charAt(0).toUpperCase() + classe.row.slice(1)}}</option>\n                </select>\n              </span>\n\n               <span v-if=\"activeSubclasses\">\n                <br>\n                <select name=\"subclasses3\" id=\"subclasses3\" @input=\"filtroOption($event)\">\n                  <option disabled selected class=\"disabled-option\">Filtrar resultados por...</option>\n                   <option v-for=\"(filter, index) in filters\" :key=\"index\" :value=\"filter.value\">{{filter.text}}</option>\n                </select>\n              </span>\n                \n                <span v-if=\"filter\">\n                <br>\n                <input v-model=\"inputFilter\" id=\"searchInput\" type=\"text\" placeholder=\"Search...\" v-on:keyup.enter=\"inputOption\">\n                <button type=\"button\" @click=\"inputOption()\"><i class=\"fa fa-search\"></i></button>\n              </span>\n\n\n<div v-if=\"loading\">\n<br>\n<v-progress-circular :indeterminate=\"loading\" :value=\"0\" size=\"24\" class=\"ml-2\"></v-progress-circular>\n<span style=\"color:gray;\"> Aguarde, a carregar dados...</span>\n</div>\n\n      </div>\n    </v-col>\n    </v-row>\n\n\n    <v-row class=\"text-center\" v-if=\"tableCount>0\">\n      <v-col class=\"mb-4\">\n      <h2>Resultados: {{tableCount}}</h2>\n      <br>\n      <v-btn color=\"primary\" @click=\"download()\">Download</v-btn>\n      <p style=\"color:gray:font-size:10px;text-align:center;margin-top:25px;\">*Versão web limitada a {{ limit }} resultados - efetue download para dataset completo</p>\n      </v-col>\n    </v-row>\n\n    <br>\n  <v-card v-if=\"table\">\n    <v-card-title>\n        Dados\n        <v-spacer></v-spacer>\n        <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"Search\"\n          single-line\n          hide-details\n        ></v-text-field>\n    </v-card-title>\n    <v-data-table\n      :headers=\"hdados\"\n      :items=\"table\"\n      class=\"elevation-1\"\n      :search=\"search\"\n      :footer-props=\"{'items-per-page-options':[25, 50, 100, 200, 500, -1], 'items-per-page-text':'Resultados por página:'}\"\n      :items-per-page=\"10\"\n      :loading=\"loading\"\n    >\n\n    <template v-slot:item.dataPub=\"row\">\n    {{ row.item.dataPub.split(\"T\")[0] }}\n  </template>\n  \n    <template v-slot:item.article=\"row\">\n    <b><a :set='id = row.item.article.split(\"#\")[1]' :href=\"metadados+id\" target=\"_blank\">\n     METADADOS\n    </a></b>\n  </template>\n\n  <template v-slot:item.link=\"row\">\n    <b><a :href=row.item.link target=\"_blank\">\n     URL ORIGINAL\n    </a></b>\n  </template>\n\n    </v-data-table>\n  </v-card>\n\n  <br>\n\n    <v-row class=\"text-center\">\n      <v-col class=\"mb-4\">\n      <blockquote id=\"search-note\">Poderá efectuar qualquer tipo de pesquisa e descarregamento de corpus de dados através de queries <a href=\"http://127.0.0.1:7200\">SPARQL</a>. Esta página pretende ser um mecanismo de pesquisa simplificado (limitado a 500 resultados), com interface gráfica e formulário de filtragem visual, para utilizadores que não estejam confortáveis com as especificações técnicas de consulta de dados em ontologias. No entanto será sempre inferior à precisão e profundidade de pesquisa direta com queries SPARQL, por essa razão recomendamos consulta das especificões.</blockquote>\n      </v-col>\n    </v-row>\n\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios'\n\n//let querystring = require('querystring');\n\n//const lhost = require(\"@/config/global\").lhost;\n//const graphdb = require(\"@/config/global\").graphdb;\n//const flaskSparql = require(\"@/config/global\").flaskSparql + '?output=json&external=true';\n//const flaskDownload = require(\"@/config/global\").flaskDownload + '?output=csv';\n\nconst netlang_graphdb = require(\"@/config/global\").netlang_graphdb\n\n  export default {\n    name: 'Search',\n\n  /*devServer: {\n        proxy: 'http://127.0.0.1:8080/',\n    },*/\n\n  /*rules: {\n    'no-unused-vars': 'off'\n  },*/\n\n    data: () => ({\n\n    search: '',\n      \n    hdados: [\n      /*{\n        text: 'Título',\n        align: 'start',\n        sortable: false,\n        value: 'row',\n      },\n      { text: 'Data', value: 'row' },\n      { text: 'Texto', value: 'row' },*/\n      { text: 'Data', sortable: true, value: 'dataPub' },\n      //{ text: 'Minoria', sortable: true, value: 'minority' },\n      { text: 'Título', value: 'title' },\n      { text: 'ID', value: 'article' },\n      { text: 'Original', value: 'link' },\n      //{ text: 'Texto', value: 'text' },\n    ],\n\n    classes: [\n      {'text': 'Minorias', 'id': 'minority', 'subclasses': ['Minority','minority']},\n      {'text': 'Pessoas', 'id': 'personName', 'subclasses': ['Person', 'personName']},\n      {'text': 'Palavras-chave', 'id': 'keyword', 'subclasses': ['Keyword','keyword']},\n      {'text': 'Partidos', 'id': 'politicalParty', 'subclasses': ['PoliticalParty', 'politicalParty']},\n      {'text': 'Animais', 'id': 'animal', 'subclasses': ['Animal', 'animal']},\n      {'text': 'Etnias', 'id': 'ethnicity', 'subclasses': ['Ethnicity', 'ethnicity']},\n      {'text': 'Religiões', 'id': 'religion', 'subclasses': ['Religion', 'religion']},\n      {'text': 'Cidades', 'id': 'city', 'subclasses': ['City', 'city']},\n      {'text': 'Países', 'id': 'country', 'subclasses': ['Country', 'country']},\n      {'text': 'Continentes', 'id': 'continent', 'subclasses': ['Continent', 'continent']},\n      {'text': 'Outros Lugares', 'id': 'otherPlace', 'subclasses': ['OtherPlace', 'otherPlace']},\n      {'text': 'Dias da Semana', 'id': 'weekday', 'subclasses': ['Weekday', 'weekday']},\n      {'text': 'Meses', 'id': 'month', 'subclasses': ['Month', 'month']},\n      {'text': 'Entidades', 'id': 'entity', 'subclasses': ['Entity', 'entity']},\n      {'text': 'Clubes de Futebol', 'id': 'footbal', 'subclasses': ['Football', 'footbal']},\n      {'text': 'Desportos', 'id': 'sport', 'subclasses': ['Sport', 'sport']},\n      {'text': 'Tags do Jornal', 'id': 'tag', 'subclasses': ['Tag','tag']},\n      {'text': 'Marcas de Produtos', 'id': 'brand', 'subclasses': ['Brand','brand']}, \n      {'text': 'Canais de TV', 'id': 'tvChannel', 'subclasses': ['TvChannel','tvChannel']},\n      {'text': 'Marcas de Carros', 'id': 'carBrand', 'subclasses': ['CarBrand','carBrand']}, \n      {'text': 'Desportos', 'id': 'sport', 'subclasses': ['Sport','sport']},\n\n    ],\n\n    filters: [\n      {'text': 'Ano de publicação maior do que...', 'value': 'dataMaior'},\n      {'text': 'Ano de publicação menor do que...', 'value': 'dataMenor'},\n      {'text': 'Ano de publicação maior a...', 'value': 'dataIgual'},\n      {'text': 'Minoria igual a...', 'value': 'minoriaIgual'},\n      {'text': 'Contém palavra igual a...', 'value': 'keywordIgual'},\n    ],\n\n    activeClasse: null,\n\n    subclasses: null,\n\n    activeSubclasses: null,\n\n    subclasses3: null,\n\n    table: null,\n\n    tableCount: null,\n\n    loading: false,\n\n    filter: null,\n\n    inputFilter: null,\n\n    limit: '5000',\n\n    query: null,\n\n    db: 'netlang2',\n\n    articlePage: 'http://minors.ilch.uminho.pt/articles',\n\n\n    }),\n\n    computed: {\n      subclassesFilter: function () {\n        return this.subclasses.filter(classe => !['311', '112', '1980s', '1981', '702', '99'].includes(classe.row))\n      },\n\n      metadados: function() {      \n        let link = '';\n        if(this.db=='indiferenciado') {\n            link = this.articlePage+'?db=indiferenciado&id=';\n        }\n        else {\n            link = this.articlePage+'?id=';\n        }\n        return link;\n      }\n    },\n\n  mounted () {\n  //  alert(this.selected_classe)\n  //  this.selected_classe = this.classes[0].text;\n  },\n\n  created: async function(){\n    try {\n      //let response = await axios.get(lhost + \"/api/passadeiras\");\n      //this.crosswalks = response.data\n\n    } \n    catch (e) {\n      return e;\n    }\n    //this.timer = setInterval(this.updateData, 1000)\n  },\n\n  methods: {\n\n    classeOption(event) {\n      let id = event.target.value;\n      let row = this.findObject(this.classes, \"id\", id);\n      this.activeClasse = row;\n      let query = `\nPREFIX : <http://sparql.entigraph.di.pt/corpus#>\nSELECT DISTINCT ?row WHERE {\n  ?article a :` + row.subclasses[0] + ` .\n  ?article :` + row.subclasses[1] + ` ?row .\n}\nORDER BY ?row\n      `;\n\n      this.loading = true;\n      this.subclasses = null;\n      this.activeSubclasses = null;\n      this.filter = null;\n      this.inputFilter = null;\n      this.queryClasse(query, row);\n      this.tableQuery(row.subclasses[0], row.subclasses[1], '', '');\n      //this.queryClasse(query, row)\n\n      //this.newSubClasse(query, row);\n\n      //this.teste(row);\n    },\n\n    subclassOption(event) {\n      this.loading = true;\n      this.activeSubclasses = null;\n      this.filter = null;\n      this.inputFilter = null;\n      this.activeSubclasses = event.target.value;\n      this.tableQuery(this.activeClasse.subclasses[0], this.activeClasse.subclasses[1], this.activeSubclasses, '');\n    },\n\n    filtroOption(event) {\n      this.filter = event.target.value;\n      this.inputFilter = null;\n    },\n\n    inputOption() {\n      this.loading = true;\n      let filter = '';\n      if(this.filter == 'dataMaior') {\n        filter = `\n        FILTER(YEAR(?dataPub) >= ` + this.inputFilter + `) .`\n      }\n      else if(this.filter == 'dataMenor') {\n        filter = `\n        FILTER(YEAR(?dataPub) <= ` + this.inputFilter + `) .`\n      }\n      else if(this.filter == 'dataIgual') {\n        filter = `\n        FILTER(YEAR(?dataPub) = ` + this.inputFilter + `) .`\n      }\n      else if(this.filter == 'minoriaIgual') {\n        filter = `\n        ?article :referesMinority ?Minority .\n        ?Minority :minority ?minority .\n        FILTER (CONTAINS(?minority , \"` + this.inputFilter.toLowerCase() + `\")) .`\n      }\n      else if(this.filter == 'keywordIgual') {\n        filter = `\n        FILTER (CONTAINS(?text , \"` + this.inputFilter.toLowerCase() + `\")) .`\n      }\n      \n      if (filter!='') {\n        this.tableQuery(this.activeClasse.subclasses[0], this.activeClasse.subclasses[1], this.activeSubclasses, filter);\n      }\n      //alert(this.filter)\n      //alert(this.inputFilter)\n    },\n\n    queryClasse(sparql, row) {\n      var _this = this;\n    /*axios.post(flaskSparql, {\n                    query: 'this.sparql',\n                    description: 'uuuu'\n                })*/\n            axios({\n            method: 'POST',\n            url: netlang_graphdb,\n            headers: {\n              \"Accept\":\"text/csv\", \n              \"Content-Type\":\"application/x-www-form-urlencoded\"\n              //\"Content-Length\": sparql.length\n            },\n            data: {query: sparql}\n            })\n            .then(function (response) {\n                let data = response.data;\n                _this.newSubClasse(data, row);\n            })\n            .catch(function (error) {\n                console.log(error)\n            })\n    },\n\n    // eslint-disable-next-line no-unused-vars\n    newSubClasse(data, row) {\n\n      //let subclasses = this.findObject(this.classes, \"id\", id);\n      /*let form = `\n          <select name=\"subclasses\" id=\"subclasses\">\n            <option disabled selected class=\"disabled-option\">Filtrar ` + row.text + ` que mencionem...</option>\n            `\n      form = form + `\n          </select>\n      `*/\n\n      let cleaned = this.myNormalize(JSON.parse(data))\n\n      //console.log(this.myNormalize(data))\n\n      this.subclasses = cleaned;\n      //document.getElementById(\"search\").appendChild(form); \n      //alert(subclasses.subclasses[1]);\n\n\n    },\n\n  findObject(obj, key, value) {\n    return obj.find(function(v){ return v[key] === value});\n  },\n\n  myNormalize(r) {\n    return r.results.bindings.map(o => {\n        var novo = {}\n        for (let [k, v] of Object.entries(o)) {\n                novo[k] = v.value\n          }\n          //novo.sort((a, b) => (a.row > b.row) ? 1 : -1)\n        return novo\n    })\n  },\n\n  normalizeArray(r) {\n    return r.results.bindings.map(o => {\n        var novo = []\n        // eslint-disable-next-line no-unused-vars\n        for (let [k, v] of Object.entries(o)) {\n            novo.push(v.value)\n          }\n        return novo  \n    })\n  },\n\n\n  tableQuery(classe1, classe2, subclass, filter) {\n    this.tableCounter(classe1, classe2, subclass, filter);\n\n    let sparql = `\nPREFIX : <http://sparql.entigraph.di.pt/corpus#>\nSELECT DISTINCT ?text (SAMPLE(?article) AS ?article) (SAMPLE(?timestamp) AS ?timestamp) (SAMPLE(?sourceUrl) AS ?sourceUrl) WHERE {\n  ?article a :Article .\n  ?article :timestamp ?timestamp .\n  ?article :text ?text .\n  ?article :sourceUrl ?sourceUrl .\n  `\n  if(subclass!='') {\n    sparql = sparql + `\n    ?article :referes`+classe1+` ?subclass .\n    ?subclass :`+classe2+` \"`+subclass+`\" .`\n  }\n  else {\n    sparql = sparql + `\n    ?article :referes`+classe1+` ?classe .`\n  }\n  if(filter!='') {\n    sparql = sparql + filter\n  }\n\n   sparql = sparql + `\n}\nGROUP BY ?text\nLIMIT ` + this.limit + `\n    `\n\n    //this.query = encodeURIComponent(sparql);\n    this.query = sparql;\n    var _this = this;\n\n    axios({\n    method: 'POST',\n    url: netlang_graphdb,\n    headers: {\n      \"Accept\":\"text/csv\", \n      \"Content-Type\":\"application/x-www-form-urlencoded\"\n      //'Content-Length': sparql.length\n    },  \n    //data: querystring.stringify({query: sparql})\n    data: {query: sparql}\n    })\n    .then(function (response) {\n        let data = response.data;\n        _this.setTable(data);\n    })\n    .catch(function (error) {\n        console.log(error)\n    })\n\n  },\n\ntableCounter(classe1, classe2, subclass, filter) {\n      let sparql = `\nPREFIX : <http://sparql.entigraph.di.pt/corpus#>\nSELECT (COUNT(DISTINCT ?text) as ?count) WHERE {\n  ?article a :Article .\n  ?article :timestamp ?timestamp .\n  ?article :text ?text .\n  ?article :sourceUrl ?sourceUrl .\n  #?article :text ?text .\n  `\n  if(subclass!='') {\n    sparql = sparql + `\n    ?article :referes`+classe1+` ?subclass .\n    ?subclass :`+classe2+` \"`+subclass+`\" .`\n  }\n  else {\n    sparql = sparql + `\n    ?article :referes`+classe1+` ?classe .`\n  }\n  if(filter!='') {\n    sparql = sparql + filter\n  }\n\n   sparql = sparql + `\n}\n#GROUP BY ?text\n    `\n    \n    var _this = this;\n\n    axios({\n    method: 'POST',\n    url: netlang_graphdb,\n    headers: {\n      \"Accept\":\"text/csv\", \n      \"Content-Type\":\"application/x-www-form-urlencoded\"\n      //'Content-Length': sparql.length\n    }, \n    data: {query: sparql}\n    })\n    .then(function (response) {\n        let data = response.data;\n        _this.setCountTable(data);\n    })\n    .catch(function (error) {\n        console.log(error)\n    })\n},\n\n  setTable(data) {\n    this.table = this.myNormalize(JSON.parse(data));\n    this.loading = false;\n  },\n\n  setCountTable(data) {\n    this.tableCount = JSON.parse(data).results.bindings[0].count.value;\n  },\n\n  download() {\n    var _this = this;\n    axios({\n    method: 'POST',\n    url: netlang_graphdb,\n    headers: {\n      \"Accept\":\"text/csv\", \n      \"Content-Type\":\"application/x-www-form-urlencoded\"\n      //'Content-Length': this.query.length\n    }, \n    data: {query: this.query}\n    })\n    .then(function (response) {\n        //let data = response.data;\n        //_this.setCountTable(data);\n        //response.data.pipe(fs.createWriteStream(\"todays_picture.csv\"));\n        _this.forceFileDownload(response);\n    })\n    .catch(function (error) {\n        console.log(error)\n    })\n\n  },\n\n    forceFileDownload(response){\n      const url = window.URL.createObjectURL(new Blob([response.data]))\n      const link = document.createElement('a')\n      link.href = url\n      link.setAttribute('download', 'data.csv') //or any other extension\n      document.body.appendChild(link)\n      link.click()\n    },\n\n\n}\n}\n</script>\n"]}]}